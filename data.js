var flight_data = '{ "flights" : [' +
'{ "faFlightID":"UA712" , "provider":"Inmarsat", "lat":"169", "bw":"4.5", "waypoints":"39.86 -104.67 39.86 -104.63 39.84 -104.53 39.82 -104.31 39.79 -104.1 39.78 -104.04 39.77 -103.99 39.75 -103.82 39.75 -103.82 39.74 -103.76 39.74 -103.67 39.72 -103.51 39.72 -103.43 39.7 -103.16 39.69 -103.06 39.68 -103 39.67 -102.91 39.67 -102.86 39.63 -102.43 39.59 -102.01 39.55 -101.41 39.49 -98.81 39.49 -98.71 39.47 -98.2 39.38 -96.24 39.33 -95.49 39.29 -94.74 39.37 -93.89 39.39 -93.65 39.51 -92.22 39.55 -91.66 39.66 -89.97 39.75 -88.14 39.79 -87.11 39.81 -86.37 39.87 -85.84 39.92 -85.32 40.09 -83.38 40.12 -82.99 40.15 -82.59 40.08 -81.61 40.02 -80.82 39.63 -80.01 39.56 -79.86 39.56 -79.86 39.5 -79.53 39.49 -79.51 39.48 -79.41 39.46 -79.33 39.45 -79.28 39.43 -79.18 39.42 -79.12 39.4 -79.02 39.39 -78.93 39.39 -78.91 39.37 -78.81 39.33 -78.6 39.32 -78.57 39.29 -78.37 39.25 -78.3 39.22 -78.24 39.19 -78.19 39.17 -78.14 39.13 -78.06 39.1 -78.01 39.06 -77.94 39.02 -77.87 39 -77.82 38.97 -77.76 38.96 -77.69 38.95 -77.62 39 -77.58 39.01 -77.57 39.11 -77.57 39.16 -77.58 39.23 -77.58 39.24 -77.58 39.15 -77.54 39.07 -77.51 38.99 -77.48 38.95 -77.46"},' +
'{ "faFlightID":"UA369" , "provider":"Gogo", "lat":"269", "bw":"3.5", "waypoints":"38.8219 -77.0364 38.8108 -77.0367 38.7974 -77.0369 38.7857 -77.0372 38.7693 -77.0378 38.7496 -77.0435 38.7354 -77.0616 38.7301 -77.0843 38.7325 -77.1091 38.7373 -77.1368 38.7425 -77.1608 38.7559 -77.1838 38.7664 -77.1987 38.7891 -77.2316 38.8037 -77.2531 38.8277 -77.2889 38.8426 -77.3112 38.8916 -77.3829 38.9075 -77.4127 38.9163 -77.4501 38.9195 -77.512 38.9223 -77.5598 38.9253 -77.608 38.9287 -77.6614 38.9318 -77.7114 38.9365 -77.7899 38.9407 -77.8646 38.9453 -77.9446 38.9495 -78.0179 38.9542 -78.1013 38.9587 -78.1799 38.9629 -78.2538 38.9684 -78.3373 38.974 -78.4214 38.9789 -78.4959 38.9821 -78.5462 38.986 -78.6071 38.9903 -78.6798 38.9963 -78.7797 39.0013 -78.8642 39.0064 -78.95 39.0111 -79.0303 39.0162 -79.1201 39.0209 -79.2034 39.0245 -79.2596 39.0299 -79.3383 39.0333 -79.3872 39.0394 -79.4778 39.0463 -79.5834 39.0528 -79.6898 39.0577 -79.772 39.0627 -79.8548 39.0669 -79.9238 39.0727 -80.0263 39.0769 -80.0984 39.082 -80.1847 39.0859 -80.2539 39.0908 -80.3437 39.0951 -80.4248 39.0989 -80.4921 39.1065 -80.5366 39.1225 -80.5844 39.1524 -80.653 39.1783 -80.7136 39.1955 -80.7539 39.2199 -80.8111 39.2459 -80.8722 39.2783 -80.948 39.3088 -81.0193 39.3391 -81.0899 39.3753 -81.1745 39.3994 -81.2309 39.4323 -81.308 39.4485 -81.3463 39.4686 -81.3937 39.4905 -81.4456 39.5054 -81.4806 39.5303 -81.5395 39.5634 -81.6182 39.6043 -81.7156 39.6319 -81.7815 39.6647 -81.8601 39.6958 -81.9349 39.726 -82.0073 39.7566 -82.0811 39.7874 -82.1555 39.8196 -82.2335 39.8519 -82.3121 39.8832 -82.3881 39.9013 -82.4322 39.942 -82.5318 39.9602 -82.5764 39.9763 -82.6162 40.0023 -82.6803 40.021 -82.7262 40.048 -82.7929 40.0668 -82.8395 40.1084 -82.9423 40.1272 -82.989 40.145 -83.0333 40.1664 -83.0867 40.1836 -83.1295 40.2035 -83.1793 40.2318 -83.2505 40.2615 -83.3251 40.281 -83.374 40.3109 -83.4497 40.3413 -83.5267 40.3739 -83.6097 40.4046 -83.6877 40.4334 -83.761 40.4626 -83.8354 40.4918 -83.9103 40.526 -83.9977 40.5552 -84.0733 40.584 -84.1476 40.604 -84.199 40.6213 -84.2442 40.6389 -84.2898 40.6603 -84.3458 40.6782 -84.3927 40.6972 -84.4422 40.7259 -84.5174 40.7475 -84.5741 40.7744 -84.6448 40.7978 -84.7061 40.8275 -84.7842 40.8692 -84.8947 40.9008 -84.9787 40.9295 -85.0552 40.958 -85.1313 40.9755 -85.1724 41.009 -85.2329 41.0393 -85.2791 41.0798 -85.341 41.1061 -85.3812 41.1296 -85.4172 41.1581 -85.4608 41.181 -85.4958 41.2057 -85.5336 41.227 -85.5664 41.2453 -85.601 41.2561 -85.6458 41.2596 -85.6987 41.2621 -85.7362 41.2646 -85.7752 41.2685 -85.8448 41.2722 -85.8991 41.2757 -85.938 41.2816 -86.0094 41.2866 -86.0617 41.2971 -86.1504 41.3053 -86.2197 41.3134 -86.2698 41.327 -86.3079 41.3482 -86.3429 41.3903 -86.4022 41.4147 -86.4384 41.4538 -86.4963 41.484 -86.5399 41.5054 -86.5708 41.5268 -86.6024 41.5512 -86.6388 41.5979 -86.7077 41.625 -86.747 41.6443 -86.772 41.6737 -86.792 41.7073 -86.7992 41.7498 -86.805 41.7801 -86.8099 41.8155 -86.8182 41.8511 -86.829 41.8843 -86.8558 41.902 -86.892 41.9127 -86.9252 41.9402 -87.0099 41.9507 -87.0429 41.9619 -87.079 41.972 -87.1117 41.9783 -87.1399 41.9818 -87.1738 41.9822 -87.2053 41.9823 -87.2401 41.9824 -87.2857 41.9826 -87.3308 41.983 -87.3655 41.983 -87.3942 41.983 -87.4241 41.9829 -87.4548 41.9829 -87.4734 41.983 -87.4935 41.9831 -87.5193 41.9834 -87.5442 41.9834 -87.5668 41.9834 -87.591 41.9835 -87.6176 41.9835 -87.6439 41.9836 -87.6608 41.9837 -87.6798 41.9839 -87.6969 41.9838 -87.72 41.9838 -87.7338 41.9837 -87.7571 41.9838 -87.7764 41.9838 -87.7956 41.984 -87.8115 41.9839 -87.8258 41.9839 -87.8388 41.9838 -87.8523"},' +
'{ "faFlightID":"UA2244" , "provider":"Other", "lat":"349", "bw":"2.5", "waypoints":"37.6281 -122.397 37.6344 -122.411 37.6396 -122.423 37.6473 -122.441 37.6535 -122.455 37.6612 -122.473 37.6685 -122.492 37.6693 -122.515 37.6609 -122.538 37.6387 -122.557 37.6192 -122.56 37.5973 -122.553 37.5786 -122.54 37.5422 -122.514 37.5042 -122.486 37.4655 -122.458 37.4217 -122.425 37.385 -122.396 37.3568 -122.364 37.3053 -122.28 37.2688 -122.22 37.2397 -122.172 37.1926 -122.094 37.1541 -122.031 37.1153 -121.968 37.0751 -121.9041 37.034 -121.838 36.9938 -121.7734 36.9519 -121.7071 36.9094 -121.6405 36.8652 -121.5705 36.8203 -121.4993 36.7808 -121.4372 36.7324 -121.3612 36.6855 -121.2879 36.6458 -121.2257 36.5878 -121.135 36.5423 -121.0644 36.4952 -120.9912 36.4498 -120.9207 36.4028 -120.8474 36.3657 -120.7907 36.3153 -120.713 36.2624 -120.6314 36.2152 -120.5583 36.1706 -120.4899 36.1293 -120.427 36.0773 -120.348 36.0305 -120.2773 35.9847 -120.2083 35.9392 -120.1392 35.8973 -120.0755 35.8514 -120.0056 35.8054 -119.9383 35.7609 -119.8754 35.7303 -119.8281 35.7103 -119.7893 35.667 -119.6817 35.6358 -119.6016 35.6051 -119.5232 35.5741 -119.4442 35.5436 -119.3666 35.5154 -119.2952 35.4822 -119.2116 35.4532 -119.1389 35.4194 -119.0536 35.3882 -118.9756 35.356 -118.8948 35.3242 -118.8154 35.2927 -118.7369 35.2605 -118.6569 35.228 -118.5768 35.1949 -118.4944 35.164 -118.4184 35.1319 -118.3398 35.1 -118.2615 35.0696 -118.1866 35.0374 -118.1079 35.0055 -118.0298 34.9726 -117.95 34.9394 -117.8695 34.9072 -117.7915 34.8758 -117.7156 34.839 -117.6271 34.8076 -117.5517 34.7725 -117.4678 34.7382 -117.3859 34.7051 -117.3067 34.6705 -117.2246 34.6388 -117.1487 34.607 -117.0733 34.5742 -116.9959 34.5403 -116.9162 34.5093 -116.8431 34.4763 -116.7656 34.4336 -116.6658 34.4011 -116.5851 34.3817 -116.512 34.3646 -116.4224 34.3499 -116.346 34.334 -116.2641 34.3206 -116.195 34.3006 -116.0919 34.2848 -116.0106 34.269 -115.9289 34.2528 -115.846 34.237 -115.7644 34.2208 -115.6815 34.2056 -115.6047 34.1892 -115.522 34.173 -115.4417 34.1573 -115.3633 34.14 -115.2773 34.1242 -115.1992 34.1074 -115.1164 34.0911 -115.0354 34.0756 -114.9583 34.0595 -114.8792 34.041 -114.7896 34.0257 -114.7155 34.0072 -114.6258 33.9904 -114.545 33.973 -114.4621 33.9557 -114.3796 33.9384 -114.2979 33.9222 -114.2191 33.9106 -114.1708 33.8903 -114.1107 33.8578 -114.0341 33.8222 -113.9508 33.7895 -113.8744 33.7578 -113.7995 33.7277 -113.7274 33.6978 -113.6545 33.6677 -113.5799 33.6385 -113.5069 33.6099 -113.4343 33.5807 -113.3593 33.5506 -113.2827 33.5231 -113.2114 33.4953 -113.1381 33.4659 -113.0613 33.4383 -112.9886 33.4102 -112.9136 33.3825 -112.8383 33.3541 -112.7602 33.329 -112.6857 33.3118 -112.6061 33.3033 -112.5221 33.2996 -112.4394 33.2965 -112.3718 33.2925 -112.2857 33.2883 -112.2001 33.2843 -112.1198 33.28 -112.0355 33.2761 -111.956 33.2721 -111.8733 33.2676 -111.7865 33.2633 -111.7012 33.2595 -111.6274 33.2545 -111.534 33.2502 -111.4498 33.2454 -111.3635 33.2408 -111.2821 33.2363 -111.2028 33.2316 -111.1162 33.2267 -111.0279 33.2219 -110.9416 33.2167 -110.8522 33.2115 -110.767 33.2066 -110.685 33.2014 -110.6013 33.1962 -110.5178 33.1912 -110.4353 33.1862 -110.3534 33.1806 -110.2656 33.1751 -110.1822 33.1697 -110.0994 33.1647 -110.0208 33.1591 -109.9349 33.1537 -109.8532 33.1484 -109.7722 33.1428 -109.6891 33.1371 -109.6089 33.1315 -109.5285 33.1257 -109.4437 33.1203 -109.3665 33.1143 -109.2818 33.1088 -109.2018 33.1026 -109.12 33.096 -109.03 33.09 -108.9476 33.0839 -108.8666 33.0778 -108.7852 33.0716 -108.7052 33.0654 -108.6232 33.0593 -108.5429 33.0529 -108.4606 33.0465 -108.3805 33.0402 -108.3002 33.0339 -108.2204 33.0271 -108.1357 33.0209 -108.0596 33.0145 -107.9805 33.0082 -107.9033 33.0015 -107.8227 32.9941 -107.7361 32.9871 -107.6552 32.9803 -107.5743 32.9735 -107.4931 32.9666 -107.413 32.9601 -107.3385 32.9534 -107.2604 32.9468 -107.1838 32.9393 -107.1011 32.9324 -107.0251 32.9258 -106.9516 32.9188 -106.874 32.9118 -106.798 32.9048 -106.7226 32.8953 -106.6219 32.8867 -106.5291 32.8796 -106.454 32.8718 -106.3727 32.8646 -106.2957 32.8522 -106.2192 32.8359 -106.1437 32.8178 -106.0678 32.7999 -105.9942 32.7822 -105.9202 32.7655 -105.8496 32.7468 -105.7727 32.7245 -105.683 32.7062 -105.6093 32.6874 -105.531 32.6697 -105.4586 32.6557 -105.3968 32.6447 -105.3247 32.6294 -105.2338 32.6182 -105.1627 32.6058 -105.0863 32.5926 -105.0051 32.5797 -104.9256 32.5661 -104.844 32.553 -104.7655 32.5397 -104.6865 32.5248 -104.5973 32.5118 -104.52 32.4971 -104.4335 32.4831 -104.3511 32.4703 -104.2747 32.4557 -104.1891 32.4423 -104.1112 32.4257 -104.0147 32.4098 -103.923 32.396 -103.8424 32.3808 -103.7554 32.3678 -103.6815 32.3524 -103.5947 32.3391 -103.5193 32.3251 -103.4401 32.3112 -103.3621 32.2968 -103.2814 32.2831 -103.2047 32.269 -103.1275 32.2549 -103.0494 32.2411 -102.9734 32.2272 -102.8967 32.2132 -102.8193 32.1995 -102.744 32.1854 -102.6671 32.1709 -102.588 32.1566 -102.5105 32.1419 -102.4321 32.1278 -102.3569 32.1123 -102.2739 32.0973 -102.193 32.083 -102.117 32.0684 -102.0403 32.0536 -101.9632 32.0386 -101.8854 32.0244 -101.8097 32.0093 -101.7301 31.9948 -101.6548 31.9786 -101.5713 31.9634 -101.4939 31.9483 -101.4175 31.9335 -101.342 31.9184 -101.2644 31.9037 -101.1896 31.8875 -101.107 31.8726 -101.0318 31.8603 -100.9685 31.8453 -100.8923 31.8289 -100.8104 31.8138 -100.7354 31.7984 -100.6595 31.7833 -100.5847 31.7673 -100.5071 31.7517 -100.4306 31.7365 -100.3563 31.7238 -100.2933 31.7048 -100.1998 31.6892 -100.1243 31.6746 -100.0535 31.6573 -99.9702 31.642 -99.8965 31.6253 -99.8163 31.6092 -99.7401 31.5936 -99.6655 31.578 -99.5914 31.5619 -99.5155 31.5469 -99.4456 31.5298 -99.3653 31.5139 -99.2904 31.498 -99.2157 31.4821 -99.1413 31.4661 -99.0673 31.4501 -98.9929 31.4329 -98.9142 31.4173 -98.8426 31.4002 -98.7642 31.3849 -98.6937 31.369 -98.6209 31.3515 -98.5416 31.3332 -98.4583 31.3162 -98.3804 31.2997 -98.3064 31.2813 -98.2245 31.2644 -98.1488 31.2474 -98.0725 31.2314 -98.0011 31.2123 -97.9161 31.1946 -97.837 31.1773 -97.7613 31.1592 -97.682 31.1424 -97.6082 31.1249 -97.5322 31.107 -97.4541 31.0895 -97.3779 31.0715 -97.3003 31.0552 -97.23 31.0371 -97.1521 31.0185 -97.0719 31.0002 -96.9933 30.9826 -96.9187 30.9645 -96.8419 30.9476 -96.7704 30.9235 -96.6682 30.9051 -96.59 30.8878 -96.5173 30.8713 -96.448 30.855 -96.38 30.8345 -96.2941 30.8173 -96.2227 30.7996 -96.1494 30.7816 -96.0752 30.7651 -96.0078 30.746 -95.929 30.7222 -95.8316 30.7039 -95.7567 30.6858 -95.6825 30.6677 -95.6083 30.6494 -95.5337 30.6322 -95.464 30.6127 -95.3852 30.5938 -95.3096 30.5749 -95.2342 30.5554 -95.1566 30.5376 -95.0859 30.5179 -95.0078 30.4999 -94.9367 30.4805 -94.859 30.4611 -94.7816 30.4422 -94.7071 30.4233 -94.6335 30.4047 -94.5607 30.3866 -94.4903 30.367 -94.4136 30.3489 -94.3438 30.3298 -94.2692 30.3107 -94.1958 30.2926 -94.1261 30.2738 -94.0537 30.2545 -93.9803 30.2355 -93.9078 30.2161 -93.8336 30.1951 -93.7533 30.1818 -93.7022 30.1565 -93.6055 30.1375 -93.5337 30.1182 -93.4612 30.0987 -93.3878 30.079 -93.3139 30.0589 -93.2394 30.0355 -93.1525 30.0156 -93.0782 29.9957 -93.004 29.9759 -92.9305 29.9565 -92.8589 29.9355 -92.7815 29.9154 -92.7075 29.8949 -92.6327 29.8752 -92.5611 29.8567 -92.4937 29.8345 -92.4119 29.8149 -92.3399 29.7937 -92.2632 29.7735 -92.1904 29.7526 -92.1155 29.7315 -92.0404 29.7066 -91.9515 29.6858 -91.8771 29.6647 -91.8017 29.6427 -91.7234 29.6218 -91.6491 29.6012 -91.5752 29.5803 -91.5012 29.5588 -91.4258 29.5381 -91.3533 29.5171 -91.2802 29.4943 -91.2004 29.4735 -91.127 29.4521 -91.0525 29.4319 -90.9824 29.412 -90.9134 29.3901 -90.8378 29.3663 -90.7558 29.3451 -90.6827 29.324 -90.6103 29.3026 -90.5368 29.2823 -90.4677 29.2596 -90.3907 29.2363 -90.3111 29.2156 -90.2406 29.1939 -90.1675 29.1724 -90.0968 29.1467 -90.0276 29.1199 -89.9555 29.0943 -89.8867 29.0675 -89.8155 29.0409 -89.7449 29.0144 -89.6748 28.9887 -89.607 28.9579 -89.5255 28.9291 -89.4499 28.9021 -89.3787 28.8759 -89.3091 28.8479 -89.236 28.8167 -89.1537 28.7858 -89.0727 28.7616 -89.0095 28.7325 -88.9337 28.7051 -88.8628 28.6786 -88.794 28.6517 -88.7252 28.624 -88.6536 28.597 -88.5834 28.5705 -88.515 28.544 -88.4471 28.5173 -88.3786 28.4904 -88.3099 28.4645 -88.244 28.4355 -88.1702 28.4086 -88.1013 28.38 -88.0253 28.3571 -87.9458 28.3372 -87.8773 28.3183 -87.8122 28.2964 -87.7367 28.2756 -87.6658 28.2554 -87.5967 28.233 -87.5193 28.2134 -87.452 28.1918 -87.3782 28.1712 -87.3078 28.1507 -87.2385 28.1301 -87.1685 28.1093 -87.098 28.0887 -87.0278 28.0681 -86.9584 28.0483 -86.8923 28.0278 -86.8237 28.0082 -86.7579 27.9859 -86.681 27.9659 -86.6107 27.9451 -86.5387 27.926 -86.473 27.9038 -86.3971 27.8834 -86.3273 27.8625 -86.2562 27.8418 -86.1863 27.8236 -86.1247 27.8015 -86.0495 27.7799 -85.9758 27.7592 -85.9055 27.7387 -85.8353 27.7176 -85.7639 27.6968 -85.6938 27.6756 -85.6234 27.6541 -85.5519 27.6329 -85.4809 27.6089 -85.4013 27.5877 -85.3201 27.5787 -85.2524 27.5832 -85.1748 27.5937 -85.0904 27.6021 -85.0298 27.6157 -84.9327 27.6265 -84.8585 27.6352 -84.7983 27.6411 -84.7196 27.6323 -84.664 27.5965 -84.5684 27.5696 -84.5002 27.5438 -84.4352 27.5154 -84.3645 27.4881 -84.2961 27.4611 -84.2287 27.4348 -84.1627 27.4076 -84.0949 27.3802 -84.0261 27.3525 -83.9568 27.326 -83.8913 27.2971 -83.8199 27.2697 -83.752 27.2432 -83.686 27.2168 -83.621 27.1865 -83.5463 27.1586 -83.4779 27.1313 -83.4112 27.1031 -83.342 27.0753 -83.2739 27.0507 -83.214 27.0186 -83.1357 26.9909 -83.0685 26.9627 -83.0003 26.9353 -82.9337 26.9079 -82.8673 26.8797 -82.7989 26.8509 -82.7295 26.8241 -82.6652 26.7945 -82.594 26.7655 -82.5243 26.7395 -82.4618 26.7107 -82.393 26.6834 -82.3355 26.6396 -82.2815 26.5957 -82.2299 26.5462 -82.1733 26.5165 -82.1389 26.4971 -82.1099 26.4776 -82.0682 26.448 -81.9793 26.4288 -81.9227 26.4107 -81.8692 26.3905 -81.8085 26.3723 -81.7539 26.3551 -81.7035 26.3421 -81.6658 26.3209 -81.6024 26.3023 -81.5474 26.2832 -81.4911 26.2676 -81.4455 26.2506 -81.3958 26.2343 -81.3473 26.2184 -81.3004 26.2028 -81.2548 26.1881 -81.2118 26.1765 -81.1778 26.1668 -81.1493 26.1531 -81.1094 26.1414 -81.0752 26.128 -81.0358 26.1231 -81.0117 26.1205 -80.9776 26.1173 -80.9322 26.1146 -80.8937 26.1117 -80.8519 26.109 -80.8136 26.1064 -80.7749 26.1036 -80.736 26.1009 -80.6985 26.0982 -80.6614 26.0958 -80.6259 26.0931 -80.5889 26.0908 -80.5537 26.0892 -80.5329 26.0864 -80.4964 26.0839 -80.4612 26.0813 -80.4265 26.0779 -80.4019 26.0773 -80.376 26.0779 -80.3509 26.0778 -80.326 26.0776 -80.302 26.0775 -80.2787 26.0774 -80.2572 26.0773 -80.2368 26.0773 -80.2245 26.0772 -80.2135 26.0771 -80.2027"},'+ 
'{ "faFlightID":"DAL1793" , "provider":"Panasonic Aviation" , "lat":"469", "bw":"1.5", "waypoints":"47.4144 -122.311 47.4003 -122.31 47.3823 -122.31 47.3601 -122.309 47.338 -122.308 47.3203 -122.296 47.3105 -122.27 47.3107 -122.234 47.3135 -122.176 47.316 -122.119 47.3184 -122.063 47.3218 -122.031 47.3392 -121.976 47.3657 -121.902 47.3888 -121.837 47.4122 -121.77 47.4229 -121.731 47.4292 -121.69 47.4339 -121.567 47.4366 -121.481 47.4391 -121.396 47.4414 -121.311 47.444 -121.225 47.4468 -121.1316 47.449 -121.0423 47.4512 -120.9499 47.4534 -120.8555 47.4553 -120.7692 47.4574 -120.667 47.4591 -120.5899 47.4615 -120.4775 47.4636 -120.3755 47.4656 -120.2764 47.4676 -120.1683 47.4693 -120.0622 47.4708 -119.9627 47.472 -119.8755 47.4737 -119.7589 47.4752 -119.6497 47.4766 -119.5434 47.4777 -119.4436 47.4788 -119.3411 47.48 -119.2329 47.4808 -119.1339 47.4815 -119.0312 47.482 -118.9291 47.4825 -118.8263 47.483 -118.7224 47.4833 -118.624 47.4837 -118.5139 47.4841 -118.4117 47.4844 -118.3079 47.4846 -118.204 47.4847 -118.1001 47.4846 -117.9993 47.4843 -117.8951 47.4841 -117.7932 47.4837 -117.6877 47.4832 -117.5808 47.4826 -117.4819 47.482 -117.3752 47.4812 -117.2729 47.4804 -117.1708 47.4794 -117.0663 47.4783 -116.9631 47.4772 -116.861 47.476 -116.7586 47.4747 -116.655 47.4734 -116.5541 47.4719 -116.4475 47.4703 -116.344 47.4685 -116.2395 47.4667 -116.1375 47.4649 -116.0344 47.4627 -115.9226 47.4605 -115.8144 47.4583 -115.7102 47.4563 -115.6078 47.4559 -115.5127 47.456 -115.4053 47.4557 -115.3031 47.4553 -115.2026 47.4546 -115.1002 47.4537 -114.9977 47.4527 -114.9002 47.4515 -114.7993 47.4502 -114.6913 47.4489 -114.583 47.4477 -114.4836 47.4464 -114.3811 47.4449 -114.2688 47.4434 -114.1684 47.4419 -114.0691 47.4401 -113.9673 47.4384 -113.8715 47.4367 -113.7708 47.4348 -113.6726 47.4325 -113.5703 47.4304 -113.4702 47.4282 -113.3698 47.426 -113.2746 47.4237 -113.1711 47.4213 -113.0735 47.4188 -112.9742 47.4161 -112.8746 47.4134 -112.7764 47.4106 -112.6779 47.4078 -112.5799 47.4048 -112.4792 47.4018 -112.3813 47.3986 -112.2827 47.3954 -112.1831 47.3919 -112.0796 47.3886 -111.9819 47.3848 -111.8772 47.3809 -111.7684 47.3771 -111.6677 47.3734 -111.5686 47.3695 -111.4674 47.3654 -111.3632 47.3614 -111.2635 47.3572 -111.1643 47.3529 -111.0637 47.3486 -110.9638 47.3446 -110.8689 47.3402 -110.7688 47.3353 -110.663 47.3282 -110.5143 47.323 -110.4066 47.3184 -110.3112 47.3132 -110.2099 47.3071 -110.0867 47.3021 -109.9893 47.2968 -109.8874 47.2914 -109.7876 47.2859 -109.6847 47.2803 -109.5833 47.2747 -109.484 47.2691 -109.3848 47.2632 -109.2874 47.2572 -109.1913 47.2513 -109.0941 47.2456 -108.9975 47.2394 -108.895 47.2335 -108.797 47.2273 -108.6989 47.2212 -108.603 47.2148 -108.5031 47.2085 -108.4074 47.2018 -108.3063 47.195 -108.2076 47.1883 -108.1096 47.1812 -108.0088 47.1741 -107.9076 47.1671 -107.8099 47.1594 -107.7016 47.1518 -107.5971 47.1441 -107.4928 47.1367 -107.3945 47.1292 -107.2965 47.1219 -107.1997 47.1143 -107.0999 47.1067 -107.0017 47.0994 -106.9084 47.0909 -106.8041 47.0828 -106.7046 47.0746 -106.6037 47.0667 -106.5082 47.0577 -106.4024 47.049 -106.3 47.0406 -106.2012 47.0317 -106.1003 47.023 -106.0015 47.0141 -105.9017 47.0053 -105.8025 46.9964 -105.7023 46.9875 -105.604 46.9784 -105.5039 46.9693 -105.405 46.9599 -105.3045 46.9504 -105.204 46.9407 -105.1026 46.9309 -105.0012 46.921 -104.9 46.9111 -104.7991 46.9011 -104.6982 46.8912 -104.5987 46.8811 -104.4989 46.87 -104.3898 46.8602 -104.2944 46.8495 -104.192 46.8337 -104.0419 46.8228 -103.9383 46.812 -103.8366 46.8015 -103.7392 46.79 -103.6331 46.7773 -103.5194 46.7658 -103.4176 46.7544 -103.3158 46.7383 -103.1724 46.7264 -103.0665 46.715 -102.9664 46.7026 -102.8604 46.6909 -102.759 46.6833 -102.652 46.68 -102.5455 46.6765 -102.44 46.673 -102.3361 46.6694 -102.2321 46.6658 -102.1284 46.6621 -102.0253 46.6582 -101.9208 46.6543 -101.8176 46.6502 -101.7132 46.6463 -101.6161 46.6419 -101.5091 46.636 -101.3652 46.6315 -101.2586 46.6268 -101.1548 46.6223 -101.0531 46.6174 -100.9457 46.6122 -100.8367 46.607 -100.7258 46.6021 -100.6221 46.5971 -100.5182 46.5912 -100.4019 46.5857 -100.2969 46.5802 -100.1939 46.5744 -100.0865 46.5688 -99.9847 46.5633 -99.8815 46.5575 -99.7782 46.5512 -99.6653 46.5451 -99.5598 46.5382 -99.4421 46.5322 -99.3404 46.526 -99.2368 46.5197 -99.134 46.5131 -99.0319 46.5065 -98.9295 46.4999 -98.8254 46.493 -98.7178 46.4861 -98.614 46.479 -98.511 46.4718 -98.4073 46.4648 -98.305 46.4569 -98.1898 46.4496 -98.0849 46.4417 -97.9746 46.4333 -97.8588 46.4255 -97.7547 46.4176 -97.6479 46.4096 -97.5426 46.401 -97.4306 46.3931 -97.3292 46.3852 -97.2295 46.3765 -97.1211 46.3694 -97.0336 46.3597 -96.9137 46.351 -96.8079 46.3424 -96.7043 46.3337 -96.6027 46.3251 -96.5021 46.3165 -96.4017 46.3073 -96.2942 46.2987 -96.1947 46.2898 -96.0949 46.2812 -95.9992 46.2722 -95.9003 46.2631 -95.8021 46.2542 -95.7062 46.2449 -95.6065 46.2356 -95.5073 46.2266 -95.412 46.2175 -95.3156 46.2079 -95.2182 46.1984 -95.1222 46.1888 -95.0234 46.1786 -94.921 46.1687 -94.8215 46.159 -94.7249 46.1486 -94.6244 46.1383 -94.525 46.1276 -94.423 46.1171 -94.3232 46.1071 -94.2281 46.0958 -94.1212 46.0849 -94.0204 46.0739 -93.9196 46.0628 -93.818 46.0514 -93.715 46.0402 -93.6148 46.0289 -93.5145 46.0174 -93.4119 46.0058 -93.3104 45.994 -93.2081 45.9825 -93.1089 45.9706 -93.0074 45.9587 -92.907 45.9462 -92.802 45.9347 -92.7056 45.9216 -92.5968 45.9093 -92.4964 45.8971 -92.3968 45.8848 -92.2976 45.8718 -92.1937 45.858 -92.093 45.8393 -91.9727 45.8231 -91.8694 45.8071 -91.7653 45.7883 -91.6424 45.7731 -91.5435 45.7574 -91.4419 45.7419 -91.342 45.7259 -91.2406 45.7101 -91.1407 45.6944 -91.0425 45.6782 -90.941 45.662 -90.8403 45.646 -90.7419 45.6298 -90.6424 45.6133 -90.5415 45.5975 -90.4458 45.5804 -90.3423 45.5637 -90.2429 45.5467 -90.1416 45.5298 -90.0415 45.5127 -89.9407 45.4962 -89.8444 45.4784 -89.7412 45.4612 -89.6425 45.4438 -89.5422 45.4265 -89.4428 45.4091 -89.3436 45.3914 -89.2438 45.3765 -89.1603 45.3559 -89.0451 45.3378 -88.9443 45.3201 -88.8456 45.3021 -88.7469 45.2844 -88.65 45.2666 -88.5532 45.2482 -88.4539 45.2306 -88.3592 45.2123 -88.2608 45.1941 -88.1641 45.1757 -88.0664 45.1572 -87.9688 45.139 -87.8727 45.1206 -87.7767 45.1016 -87.6787 45.0823 -87.5792 45.0636 -87.4824 45.0451 -87.3875 45.0254 -87.2869 45.0061 -87.189 44.9864 -87.0898 44.9668 -86.9922 44.9562 -86.9376 44.94 -86.8001 44.9275 -86.682 44.9165 -86.5806 44.9056 -86.4812 44.8945 -86.3799 44.8845 -86.2906 44.8726 -86.1836 44.8612 -86.0823 44.8482 -85.968 44.8363 -85.8645 44.8252 -85.769 44.8135 -85.6686 44.8016 -85.5667 44.7897 -85.4683 44.778 -85.3712 44.764 -85.2559 44.7516 -85.1546 44.7391 -85.0508 44.7267 -84.9506 44.7146 -84.8543 44.7031 -84.762 44.6909 -84.6647 44.678 -84.5627 44.6606 -84.4279 44.6463 -84.3174 44.6336 -84.2199 44.6202 -84.1185 44.6061 -84.0114 44.5923 -83.9086 44.5774 -83.798 44.564 -83.6996 44.5503 -83.5981 44.536 -83.4925 44.5249 -83.4116 44.509 -83.2967 44.4951 -83.1979 44.4818 -83.104 44.467 -83.0006 44.4559 -82.9224 44.4393 -82.8068 44.4251 -82.7097 44.411 -82.6135 44.3974 -82.5203 44.3832 -82.4243 44.3662 -82.309 44.3507 -82.2057 44.3362 -82.1099 44.3219 -82.0152 44.3079 -81.924 44.2935 -81.8298 44.2778 -81.7277 44.264 -81.6381 44.2474 -81.5312 44.2324 -81.4351 44.2176 -81.3415 44.2024 -81.2454 44.1872 -81.1497 44.1716 -81.0534 44.1558 -80.9553 44.1405 -80.8615 44.1248 -80.765 44.1108 -80.6789 44.0939 -80.5772 44.0781 -80.4823 44.0625 -80.3893 44.0461 -80.291 44.0308 -80.2003 44.0145 -80.1045 43.9982 -80.0087 43.9817 -79.9127 43.9699 -79.8443 43.949 -79.7244 43.9312 -79.6222 43.9146 -79.5275 43.8979 -79.432 43.881 -79.3369 43.8644 -79.2439 43.8478 -79.1507 43.8311 -79.0572 43.8138 -78.9621 43.7972 -78.8714 43.781 -78.7839 43.7628 -78.6859 43.7456 -78.5923 43.7286 -78.4997 43.7117 -78.4083 43.6945 -78.3158 43.6766 -78.2207 43.6591 -78.1283 43.642 -78.0379 43.6245 -77.9466 43.6062 -77.8516 43.5887 -77.7606 43.5714 -77.6708 43.5535 -77.5792 43.5356 -77.4877 43.5181 -77.3983 43.4983 -77.298 43.4807 -77.2088 43.4617 -77.114 43.4438 -77.0246 43.4253 -76.9326 43.4065 -76.8399 43.3879 -76.748 43.3665 -76.6431 43.3462 -76.5439 43.3278 -76.4542 43.3088 -76.3627 43.2892 -76.2682 43.2701 -76.177 43.251 -76.0858 43.2326 -75.9983 43.217 -75.9248 43.1941 -75.817 43.1744 -75.7245 43.1551 -75.6343 43.1359 -75.5448 43.1158 -75.4523 43.0965 -75.3637 43.0728 -75.2552 43.054 -75.1694 43.0334 -75.075 43.0129 -74.9824 42.993 -74.8932 42.9724 -74.8007 42.9527 -74.7125 42.9329 -74.6244 42.9174 -74.5556 42.892 -74.4436 42.8723 -74.3568 42.8525 -74.2701 42.8322 -74.1814 42.8116 -74.0917 42.7923 -74.0082 42.7727 -73.9246 42.7589 -73.8634 42.7505 -73.808 42.7464 -73.7479 42.7456 -73.6454 42.7447 -73.5424 42.744 -73.4448 42.7432 -73.3553 42.7422 -73.2661 42.7412 -73.1786 42.7402 -73.1285 42.7306 -73.0294 42.7203 -72.9392 42.712 -72.8684 42.7016 -72.7791 42.6915 -72.6947 42.6812 -72.6061 42.6709 -72.5192 42.6597 -72.4272 42.6494 -72.3432 42.6394 -72.2623 42.6302 -72.1796 42.6213 -72.1021 42.6116 -72.0245 42.6033 -71.9563 42.5933 -71.8756 42.5835 -71.8032 42.5724 -71.7334 42.5608 -71.6598 42.5514 -71.5998 42.5382 -71.534 42.5255 -71.4725 42.5125 -71.4106 42.4995 -71.3484 42.4892 -71.2945 42.479 -71.2421 42.4666 -71.1823 42.4613 -71.1539 42.4576 -71.1136 42.4526 -71.0599 42.4447 -71.03 42.429 -71.0135 42.4005 -70.9945 42.37 -70.9738 42.3373 -70.9519 42.3164 -70.9398 42.2952 -70.9421 42.2789 -70.9495 42.2579 -70.9586 42.2328 -70.9692 42.2062 -70.9802 42.1892 -70.9881 42.1776 -71.0039 42.1778 -71.0275 42.1836 -71.0547 42.1937 -71.073 42.2075 -71.0761 42.2239 -71.0732 42.2422 -71.0642 42.2648 -71.0535 42.2857 -71.0435 42.2953 -71.0389 42.3058 -71.0338 42.3164 -71.0286 26.3551 -81.7035 26.3421 -81.6658 26.3209 -81.6024 26.3023 -81.5474 26.2832 -81.4911 26.2676 -81.4455 26.2506 -81.3958 26.2343 -81.3473 26.2184 -81.3004 26.2028 -81.2548 26.1881 -81.2118 26.1765 -81.1778 26.1668 -81.1493 26.1531 -81.1094 26.1414 -81.0752 26.128 -81.0358 26.1231 -81.0117 26.1205 -80.9776 26.1173 -80.9322 26.1146 -80.8937 26.1117 -80.8519 26.109 -80.8136 26.1064 -80.7749 26.1036 -80.736 26.1009 -80.6985 26.0982 -80.6614 26.0958 -80.6259 26.0931 -80.5889 26.0908 -80.5537 26.0892 -80.5329 26.0864 -80.4964 26.0839 -80.4612 26.0813 -80.4265 26.0779 -80.4019 26.0773 -80.376 26.0779 -80.3509 26.0778 -80.326 26.0776 -80.302 26.0775 -80.2787 26.0774 -80.2572 26.0773 -80.2368 26.0773 -80.2245 26.0772 -80.2135 26.0771 -80.2027" }]}';


var obj = JSON.parse(flight_data);
console.log(obj);

window.onload = function() {
  stateChecker1();
};

function stateChecker1() {
	if (document.getElementById("pref-perpage").selectedIndex==0) {
  		console.log("provider selected!!");
  		providerFilter();
	}
	//Latency selected
	if (document.getElementById("pref-perpage").selectedIndex==1) {
		console.log("latency selected!");
		latencyFilter();
	}
	//Bandwidth selected
	if (document.getElementById("pref-perpage").selectedIndex==2) {
		bandwidthFilter();
	}
	//ATF selected
	if (document.getElementById("pref-perpage").selectedIndex==3) {
		latencyFilter();
	}
}



function providerFilter() {
	var j;
	wp=[];
	for (j = 0; j <obj.flights.length; j++) {
			console.log(obj.flights[j].provider);
	  		if ((obj.flights[j].provider)=="Gogo") { 
	  			console.log("Gogo case");
	  			wtext=obj.flights[j].waypoints.split(" ");
	  			// console.log(wtext);
	  			for (x = 0; x <wtext.length; x=x+2) {
				  wp.push([wtext[x],wtext[x+1]]);
				}
				console.log(wp);
				var i;
				for (i = 0; i < wp.length; i++) {
				  var circleMarker = L.circleMarker(wp[i], {
				  color: '#8A2BE2',
				  weight: 1,
				  radius: 3,
				  }).addTo(mymap);}
				  wp=[];
	  		}
	  		else if ((obj.flights[j].provider)=="Panasonic Aviation") { 
	  			console.log("Panasonic case");
	  			wtext=obj.flights[j].waypoints.split(" ");
	  			// console.log(wtext);
	  			for (x = 0; x <wtext.length; x=x+2) {
				  wp.push([wtext[x],wtext[x+1]]);
				}
				console.log(wp);
				var i;
				for (i = 0; i < wp.length; i++) {
				  var circleMarker = L.circleMarker(wp[i], {
				  color: '#3e6990',
				  weight: 1,
				  radius: 3,
				  }).addTo(mymap);}
				  wp=[];
	  		} 
	  		else if ((obj.flights[j].provider)=="Inmarsat") { 
	  			console.log("Inmarsat case");
	  			wtext=obj.flights[j].waypoints.split(" ");
	  			// console.log(wtext);
	  			for (x = 0; x <wtext.length; x=x+2) {
				  wp.push([wtext[x],wtext[x+1]]);
				}
				console.log(wp);
				var i;
				for (i = 0; i < wp.length; i++) {
				  var circleMarker = L.circleMarker(wp[i], {
				  color: '#f7b32b',
				  weight: 1,
				  radius: 3,
				  }).addTo(mymap);}
				  wp=[];
	  		}  
	  		else { 
	  			console.log("Other case");
		  		wtext=obj.flights[j].waypoints.split(" ");
	  			// console.log(wtext);
	  			for (x = 0; x <wtext.length; x=x+2) {
				  wp.push([wtext[x],wtext[x+1]]);
				}
				console.log(wp);
				var i;
				for (i = 0; i < wp.length; i++) {
				  var circleMarker = L.circleMarker(wp[i], {
				  color: '#e63946',
				  weight: 1,
				  radius: 3,
				  }).addTo(mymap);}
				 wp=[];
	  		} 
	  	}
}




function latencyFilter() {
	var j; //iterator
	wp=[]; //waypoints to color certain color
	for (j = 0; j <obj.flights.length; j++) {
		console.log(obj.flights[j].lat);
  		if (parseFloat(obj.flights[j].lat)<250.0) { //If Lat less than 250 
  			wtext=obj.flights[j].waypoints.split(" ");
  			console.log(wtext);
  			for (x = 0; x <wtext.length; x=x+2) {
			  wp.push([wtext[x],wtext[x+1]]);
			}
			console.log(wp);
			// Add waypoints to map
			var i;
			for (i = 0; i < wp.length; i++) {
			  var circleMarker = L.circleMarker(wp[i], {
			  color: '#8A2BE2',
			  weight: 1,
			  radius: 3,
			  }).addTo(mymap);}
			  wp=[];
  		} //end of if (lat<250)


  		if ((parseFloat(obj.flights[j].lat)<400.0) && parseFloat(obj.flights[j].lat)>250.0) { //If Lat less than 250 
  			wtext=obj.flights[j].waypoints.split(" ");
  			console.log(wtext);
  			for (x = 0; x <wtext.length; x=x+2) {
			  wp.push([wtext[x],wtext[x+1]]);
			}
			console.log(wp);
			// Add waypoints to map
			var i;
			for (i = 0; i < wp.length; i++) {
			  var circleMarker = L.circleMarker(wp[i], {
			  color: '#3e6990',
			  weight: 1,
			  radius: 3,
			  }).addTo(mymap);} 
			  wp=[];
  		} //end of if (lat<250)

  		if ((parseFloat(obj.flights[j].lat)<550.0) && parseFloat(obj.flights[j].lat)>400.0) { //If Lat less than 250 
  			wtext=obj.flights[j].waypoints.split(" ");
  			console.log(wtext);
  			for (x = 0; x <wtext.length; x=x+2) {
			  wp.push([wtext[x],wtext[x+1]]);
			}
			console.log(wp);
			// Add waypoints to map
			var i;
			for (i = 0; i < wp.length; i++) {
			  var circleMarker = L.circleMarker(wp[i], {
			  color: '#f7b32b',
			  weight: 1,
			  radius: 3,
			  }).addTo(mymap);} 
			  wp=[];
  		} //end of if (lat<250)



  			///Error!!! Half of flight is >550?
  		if (parseFloat(obj.flights[j].lat)>550.0) { //If Lat less than 250 
  			wtext=obj.flights[j].waypoints.split(" ");
  			console.log(wtext);
  			for (x = 0; x <wtext.length; x=x+2) {
			  wp.push([wtext[x],wtext[x+1]]);
			}
			console.log(wp);
			// Add waypoints to map
			var i;
			for (i = 0; i < wp.length; i++) {
			  var circleMarker = L.circleMarker(wp[i], {
			  color: '#e63946',
			  weight: 1,
			  radius: 3,
			  }).addTo(mymap);} 
			  wp=[];
  		} //end of if (lat<250)
	}//end of for loop
}//end of function





function bandwidthFilter() {
	var j; //iterator
	wp=[]; //waypoints to color certain color
	for (j = 0; j <obj.flights.length; j++) {
		console.log(obj.flights[j].bw);
  		if (parseFloat(obj.flights[j].bw)<1.0) { //If bw less than 250 
  			wtext=obj.flights[j].waypoints.split(" ");
  			console.log(wtext);
  			for (x = 0; x <wtext.length; x=x+2) {
			  wp.push([wtext[x],wtext[x+1]]);
			}
			console.log(wp);
			// Add waypoints to map
			var i;
			for (i = 0; i < wp.length; i++) {
			  var circleMarker = L.circleMarker(wp[i], {
			  color: '#8A2BE2',
			  weight: 1,
			  radius: 3,
			  }).addTo(mymap);}
			  wp=[];
  		} //end of if (bw<250)


  		if ((parseFloat(obj.flights[j].bw)<2.0) && parseFloat(obj.flights[j].bw)>1.0) { 
  			wtext=obj.flights[j].waypoints.split(" ");
  			console.log(wtext);
  			for (x = 0; x <wtext.length; x=x+2) {
			  wp.push([wtext[x],wtext[x+1]]);
			}
			console.log(wp);
			// Add waypoints to map
			var i;
			for (i = 0; i < wp.length; i++) {
			  var circleMarker = L.circleMarker(wp[i], {
			  color: '#3e6990',
			  weight: 1,
			  radius: 3,
			  }).addTo(mymap);} 
			  wp=[];
  		} 

  		if ((parseFloat(obj.flights[j].bw)<5.0) && parseFloat(obj.flights[j].bw)>2.0) {  
  			wtext=obj.flights[j].waypoints.split(" ");
  			console.log(wtext);
  			for (x = 0; x <wtext.length; x=x+2) {
			  wp.push([wtext[x],wtext[x+1]]);
			}
			console.log(wp);
			// Add waypoints to map
			var i;
			for (i = 0; i < wp.length; i++) {
			  var circleMarker = L.circleMarker(wp[i], {
			  color: '#f7b32b',
			  weight: 1,
			  radius: 3,
			  }).addTo(mymap);} 
			  wp=[];
  		} 

  			
  		if (parseFloat(obj.flights[j].bw)>5.0) { 
  			wtext=obj.flights[j].waypoints.split(" ");
  			console.log(wtext);
  			for (x = 0; x <wtext.length; x=x+2) {
			  wp.push([wtext[x],wtext[x+1]]);
			}
			console.log(wp);
			// Add waypoints to map
			var i;
			for (i = 0; i < wp.length; i++) {
			  var circleMarker = L.circleMarker(wp[i], {
			  color: '#e63946',
			  weight: 1,
			  radius: 3,
			  }).addTo(mymap);} 
			  wp=[];
  		} 
	}//end of for loop
}//end of function







